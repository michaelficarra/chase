program
	: /* nothing */
	| formulaList optNEWLINE

formulaList
	: formula
	| formula NEWLINE formulaList

formula
	: expr
	| expr IMPLIES expr
	| FOR_ALL index quantifierBody
	| THERE_EXISTS_ONE index quantifierBody
	| THERE_EXISTS index quantifierBody

expr
	: exprOR

exprOR
	: exprAND
	| exprOR OR exprOR

exprAND
	: exprValue
	| exprAND AND exprAND

exprValue
	: predicate
	| PAREN_OPEN formula PAREN_CLOSE
	| TAUTOLOGY
	| CONTRADICTION
	| NOT exprValue

quantifierBody
	: optCOLON formula
	| BRACE_OPEN formula BRACE_CLOSE

predicate
	: IDENTIFIER index

index
	: BRACKET_OPEN argList BRACKET_CLOSE
	| arg

argList
	: arg
	| arg COMMA argList

arg
	: predicate
	| FREE_VARIABLE
	| INTEGER

optCOLON:   /* nothing */ | COLON
optNEWLINE: /* nothing */ | NEWLINE
